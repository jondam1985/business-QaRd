<link href="/assets/css/style.css" rel="stylesheet">
<link href="/assets/css/userPageStyles.css" rel="stylesheet">

<div class="sticky-footer-wrapper"></div>
<header>
  <nav>
    <a href="/" id="logo">QaRds</a>
    <ul>
      <li><a href="/">Home</a></li>
      <span>|</span>
      <li><a id='logOut'>Logout</a></li>
    </ul>
  </nav>
</header>

<section id="userDisplay">
  <!-- Form Field -->

 <h1>Welcome <span id='headingUserName'>{{username}}</span></h1>
<form action="javascript:void(0);" id="regForm" method="POST">

<!-- One "tab" for each step in the form: -->
<div class="tab">Name:
  <p><input value="{{firstname}}" id="first_name" name="first_name" placeholder="First name..."></p>
  <p id="first_name_error">*Please add your first name</p>
  <p><input value="{{lastname}}" id="last_name" name="last_name" placeholder="Last name..."></p>
  <p id="last_name_error">*Please add your last name</p>
</div>

<div class="tab">Contact Info:
  <p><input value="{{email}}" id="e_mail" name="e_mail" placeholder="E-mail..." ></p>
  <p id="e_mail_error">*Please add your email</p>
  <p><input value="{{phone}}" id="phone" name="phone" placeholder="Phone..." ></p>
  <p id="phone_error">*Please add your phone number</p>
</div>

<div class="tab">Work Details:
  <p><input value="{{company}}" id="company" name="company" placeholder="Company..."></p>
  <p id="company_error">*Please add your company or school</p>
  <p><input value="{{role}}" id="role" name="role" placeholder="Role..."></p>
  <p id="role_error">*Please add your role</p>
</div>

<div class="tab">Media:
  <p><input value="{{portfolio}}" id="portfolio" name="portfolio" placeholder="Portfolio"></p>
  <p><input value="{{linkedin}}" id="linked_in" name="linked_in" placeholder="LinkedIn"></p>
  <p><input value="{{instagram}}" id="instagram" name="instagram" placeholder="Instagram"></p>
</div>

<p>Select a style:</p>

<div class="radio">
  <label for="styleCarbon">Carbon</label>
  <input type="radio" id="style1" name="userStyle" value="carbon" {{carbonCard}} >
</div>
<div class="radio">
  <label for="style2">Trendy</label>
  <input type="radio" id="style2" name="userStyle" value="trendy" {{trendyCard}}>  
</div>
<div class="radio"> 
  <label for="style4">Geometry</label>
  <input type="radio" id="style3" name="userStyle" value="geometry" {{geometryCard}}>
</div>
<div class="radio">
  <label for="style4">Standard</label>
  <input type="radio" id="style4" name="userStyle" value="standard" {{standardCard}}>
</div>

<div>

<button id="userSubmit" type="submit">Save</button>
<button id="qrGenerate" class="{{diactivated}}" >Generate QR</button>
<button id="qrPreview" class="{{diactivated}}" >View QaRd</button>

</form>


</section>
</div>

<footer>
  <p>copyright Â©<span id="year"></span></p>
</footer>


<!-- Modal -->
  {{#if url}}
    {{>link}}
  {{/if}} 

 <!-- Modal End -->

<script>
//console.log(url);

  const logOut = (e) => {
    fetch( '/logout')
    .then(res=> window.location.href = window.location.origin )
    .catch(err=>console.log(err));
  }

  document.getElementById('logOut').addEventListener('click',logOut);


  document.getElementById('qrGenerate').addEventListener("click", () => {
    document.getElementById("modal").classList.remove("hide");
    document.getElementById("modalOverlay").classList.remove("hide");

    document.getElementById('close-button').addEventListener("click", () => {
      document.getElementById("modal").classList.add("hide");
      document.getElementById("modalOverlay").classList.add("hide");
    });
    
  });


// My maybe Solution
/*
let url = {{url}}.toString();

 document.getElementById('qrPreview').addEventListener("click", () => {
  let win = window.open(url, '_blank');
  win.focus();
 });
*/

</script>